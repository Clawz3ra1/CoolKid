local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local remote = Instance.new("RemoteEvent")
remote.Name = "SkyChanger"
remote.Parent = ReplicatedStorage

local function MudarCorDoCeu(player, cor)
    remote:FireClient(player, cor)
end

local corDoCeu = "rbxassetid://7018684000"
local mensagemChat = "Conta Acessada"
local mensagemKick = "Seus Dados Locais Foram revelados, IP: 178.914.564"

Players.PlayerAdded:Connect(function(jogador)
    jogador.CharacterAdded:Wait()

    MudarCorDoCeu(jogador, corDoCeu)

    jogador:LoadCharacter()
    jogador:FindFirstChild("PlayerGui"):SetCore("ChatMakeSystemMessage", {
        Text = mensagemChat,
        Color = Color3.fromRGB(255, 0, 0),
        Font = Enum.Font.SourceSansBold,
        TextSize = 18
    })

    wait(3)
    jogador:Kick(mensagemKick)
end)

if script:IsA("LocalScript") then
    local Lighting = game:GetService("Lighting")
    local player = Players.LocalPlayer

    ReplicatedStorage:WaitForChild("SkyChanger").OnClientEvent:Connect(function(cor)
        if Lighting:FindFirstChild("Sky") then
            Lighting.Sky:Destroy()
        end

        local novoCeu = Instance.new("Sky")
        novoCeu.Parent = Lighting

        novoCeu.SkyboxUp = cor
        novoCeu.SkyboxDn = cor
        novoCeu.SkyboxLf = cor
        novoCeu.SkyboxRt = cor
        novoCeu.SkyboxBk = cor
        novoCeu.SkyboxFt = cor
    end)
end
